<!DOCTYPE html>
<html lang="en">

<head>

    <%- include('includes/MainCss.ejs') %>
    <style>
        .notification {
            width: 100%;
            margin: 0px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 10px;
            text-align: start;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
            }

            .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            }

            h1 {
            margin: 0;
            }

            .close-btn {
            cursor: pointer;
            font-size: 18px;
            }

            .content {
            margin-top: 20px;
            }

            .sender-info {
            margin-bottom: 10px;
            }

            .sender-name {
            font-size: 20px;
            font-weight: bold;
            }

            .sender-email {
            font-size: 14px;
            color: #888;
            }

            .message {
            font-size: 16px;
            margin-bottom: 10px;
            }

            .date-time {
            margin-top: 20px;
            font-size: 18px;
            color: #888;
            }

            .date,
            .time {
            display: block;
            }

            .fa-times {
            color: #888;
            }

            .fa-times:hover {
            color: #f00;
            }

         .Main-Feature:hover{
            cursor: pointer;
         }

         .item:hover{
            cursor: pointer;
         }
          
       </style>

        <script>
            history.pushState(null, null, location.href);
            window.onpopstate = function(event) {
                history.go(1);
            };
        </script>
        
</head>

<body>
    <div class="container-scroller d-flex">
        <!-- partial:./partials/_sidebar.html -->
        <%- include('includes/HeaderMenu.ejs') %>
            <!-- partial -->
            <div class="main-panel">
                <div class="content-wrapper">
                    <div class="row">
                        <div class="col-12 col-xl-6 grid-margin stretch-card">
                            <div class="row w-100 flex-grow">
                                <div class="col-md-12 grid-margin stretch-card">
                                    <div class="card">
                                        <div class="card-body">
                                            <p class="card-title">Account overview</p>
                                            <div class="row mb-3">
                                                <div class="col-md-12">
                                                    <div class="d-flex justify-content-between traffic-status" style="overflow-x: scroll;">
                                                        
                                                        <div class="item" style="width: 120px; height: 110px; border-radius: 10px; z-index: 4; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1); margin-right: 30px;  margin-left: 10px;">
                                                            <a href="/usd-account-page">
                                                                <p class="mb-center" style="text-align: center; color: #fff; text-align: center;">
                                                                    <img src="/images/us-flag.png" style="width: 90px;"/>
                                                                    <br>
                                                                    <span style="color: #996515;"> USD Account</span>
                                                                </p>
                                                                 
                                                                <h5 class="mb-0" style="color: #996515; font-size: 13px;">$ <span id="AccountBalanceUSD" style="margin-right: 10px; font-size: 13px;">0.00</span></h5>
                                                                <div class="color-border"></div>
                                                            </a>
                                                            
                                                        </div>

                                                       
                                                        <div class="item" style="width: 120px; height: 110px; border-radius: 10px; z-index: 4; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1); margin-right: 30px;">
                                                          <a href="/gbp-account-page">
                                                            <p class="mb-center" style="text-align: center; color: #fff; text-align: center;">
                                                                <img src="/images/Britain_Flag.png" style="width: 90px;"/>
                                                                <br>
                                                                <span style="color: #996515;"> GBP Account</span>
                                                            </p>
                                                             
                                                            <h5 class="mb-0" style="color:#996515; font-size: 13px;">£ <span id="AccountBalanceGBP" style="margin-right: 10px; font-size: 13px;">0.00</span></h5>
                                                            <div class="color-border"></div>
                                                          </a>
                                                        </div>


                                                        <div class="item" style="width: 120px; height: 110px; border-radius: 10px; z-index: 4; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1); margin-right: 30px;">
                                                          <a href="/euro-account-page">
                                                            <p class="mb-center" style="text-align: center; color: #fff; text-align: center;">
                                                                <img src="/images/EU-flag.jpg" style="width: 90px;"/>
                                                                <br>
                                                                <span style="color: #996515;"> Euro Account</span>
                                                            </p>
                                                             
                                                            <h5 class="mb-0" style="color: #996515; font-size: 13px;" >€ <span id="AccountBalanceEuro" style="margin-right: 10px; font-size: 13px;">0.00</span></h5>
                                                            <div class="color-border"></div>
                                                          </a>
                                                           
                                                        </div>


                                                        <div class="item" style="width: 120px; height: 110px; border-radius: 10px; z-index: 4; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1); margin-right: 10px;">
                                                          <a href="/cad-account-page">
                                                            <p class="mb-center" style="text-align: center; color: #fff; text-align: center;">
                                                                <img src="/images/canada-flag.png" style="width: 90px;" height="60px"/>
                                                                <br>
                                                                <span style="color: #996515;">CAD Account</span>
                                                            </p>
                                                             
                                                            <h5 class="mb-0" style="color: #996515; font-size: 13px;">CAD <span id="AccountBalanceCADTwoWto" style="margin-right: 10px;font-size: 13px;">0.00</span></h5>
                                                            <div class="color-border"></div>
                                                          </a>  
                                                        </div>
                                                       
                                                    </div>
                                                </div>

                                                <br>

                                                <div class="col-md-12" style="margin-top: 50px; display: flex; justify-content: space-between;">
                                                    <div style="width: 70px; " class="Main-Feature" >
                                                        <a href="/user-account" style="text-decoration: none; color: black;">
                                                            <style>
                                                                @keyframes rotateBorder {
                                                                  to {
                                                                    transform: rotate(360deg);
                                                                  }
                                                                }
                                                              
                                                                .rotating-border {
                                                                  position: relative;
                                                                  width: 60px;
                                                                  height: 60px;
                                                                  border-radius: 50%;
                                                                  overflow: hidden;
                                                                }
                                                              
                                                                .rotating-border::before {
                                                                  content: '';
                                                                  position: absolute;
                                                                  width: 100%;
                                                                  height: 100%;
                                                                  border-radius: 50%;
                                                                  border-top: 4px solid #D2691E; /* Initial border color */
                      border-bottom: 4px solid #FFD700; 
                                                                  box-sizing: border-box;
                                                                  animation: rotateBorder 3s linear infinite; /* Adjust the duration as needed */
                                                                }
                                                                .icon {
    margin: 0 0 0 px;
  }
                                                              </style>
                                                              
                                                              <div style="background-color: #996515; border-radius: 50%; height: 60px; width: 60px; display: flex; justify-content: center; align-items: center;"class="rotating-border">
                                                                <div >
                                                                  <i class="mdi mdi-cash-multiple icon" style="font-size: 35px;  color: white; position: relative; z-index: 1;"></i>
                                                                </div>
                                                              </div>
                                                              
                                                            <p style="text-align: center;  font-size: 15px;">Accounts</p>
                                                        </a>
                                                       
                                                    </div>

                                                 <div style="width: 70px;">
                                                    <a href="/user-transfer-page" style="text-decoration: none; color: black;">
                                                        <div class="rotating-border" style="background-color: #996515; border-radius: 50%; height: 60px; width: 60px; display: flex; justify-content: center; align-items: center;">
                                                            <i class="mdi mdi-repeat" style="font-size: 35px; color: white;"></i>
                                                        </div>
                                                        <p style="text-align: center;  font-size: 15px;">Transfers</p>
                                                    </a>
                                                    </div>

                                                    <div style="width: 70px;">
                                                        <div class="rotating-border" style="background-color: #996515; border-radius: 50%; height: 60px; width: 60px; display: flex; justify-content: center; align-items: center;">
                                                            <i class="mdi mdi-stack-exchange" style="font-size: 35px; color: white;"></i>
                                                        </div>
                                                        <p style="text-align: center;  font-size: 15px;">Services</p>
                                                    </div>

                                                    
                                                </div>


                                                <div class="col-md-12" style="margin-top: 30px; display: flex; justify-content: space-between;">
                                                    <a href="/user-deposit" style="text-decoration: none; color: black;">
                                                        <div style="width: 70px;">
                                                            <div class="rotating-border" style="background-color: #996515; border-radius: 50%; height: 60px; width: 60px; display: flex; justify-content: center; align-items: center;">
                                                                <i class="mdi mdi-palette-advanced" style="font-size: 35px; color: white;"></i>
                                                            </div>
                                                            <p style="text-align: center;  font-size: 15px;">Deposit</p>
                                                        </div>
                                                    </a>

                                                 <div style="width: 80px;">
                                                    <a href="/user-transction-history" style="text-decoration: none; color: black;">
                                                        <div class="rotating-border" style="background-color: #996515; border-radius: 50%; height: 60px; width: 60px; display: flex; justify-content: center; align-items: center;">
                                                            <i class="mdi mdi-check-all" style="font-size: 35px; color: white;"></i>
                                                        </div>
                                                        <p style="text-align: center;  font-size: 15px;">Transaction</p>
                                                    </a>
                                                    </div>

                                                    <div style="width: 70px;">
                                                        <a href="/user-withdrawal-page" style="text-decoration: none; color: black;">
                                                        <div class="rotating-border" style="background-color: #996515; border-radius: 50%; height: 60px; width: 60px; display: flex; justify-content: center; align-items: center;">
                                                            <i class="mdi mdi-cash-usd" style="font-size: 35px; color: white;"></i>
                                                        </div>
                                                        <p style="text-align: center;  font-size: 15px;">Withdraw</p>
                                                        </a>
                                                    </div>

                                                    
                                                </div>



                                                
                                                <div class="col-md-12" style="margin-top: 30px; display: flex; justify-content: space-between;">

                                                    <div style="width: 70px;">
                                                        <a href="/user-statement-form" style="text-decoration: none; color: black;">
                                                        <div class="rotating-border" style="background-color: #996515; border-radius: 50%; height: 60px; width: 60px; display: flex; justify-content: center; align-items: center;">
                                                            <i class="mdi mdi-cash-100" style="font-size: 35px; color: white;"></i>
                                                        </div>
                                                        <p style="text-align: center;  font-size: 15px;">Statemets</p>
                                                        </a>
                                                    </div>

                                                 <div style="width: 70px;">
                                                    <a href="/user-card-service" style="text-decoration: none; color: black;">
                                                        <div class="rotating-border" style="background-color: #996515; border-radius: 50%; height: 60px; width: 60px; display: flex; justify-content: center; align-items: center;">
                                                            <i class="mdi mdi-credit-card-multiple" style="font-size: 35px; color: white;"></i>
                                                        </div>
                                                        <p style="text-align: center;  font-size: 15px;">Card services</p>
                                                     </a>
                                                       
                                                    </div>
                                                    
                                                    <div style="width: 70px;">
                                                        <a href="" style="text-decoration: none; color: black;"> 
                                                            <div class="rotating-border" style="background-color: #996515; border-radius: 50%; height: 60px; width: 60px; display: flex; justify-content: center; align-items: center;">
                                                                <i class="mdi mdi-pencil-box" style="font-size: 35px; color: white;"></i>
                                                            </div>
                                                            <p style="text-align: center;  font-size: 15px;">Create account</p>
                                                        </a>
                                                        
                                                    </div>

                                                    
                                                </div>

                                                
                                                 
                                                <div class="col-md-12" style="margin-top: 30px; display: flex; justify-content: space-between;">
                                                    <div style="width: 70px;">
                                                        <div class="rotating-border" style="background-color: #996515; border-radius: 50%; height: 60px; width: 60px; display: flex; justify-content: center; align-items: center;">
                                                            <i class="mdi mdi-arrow-up-bold-circle" style="font-size: 35px; color: white;"></i>
                                                        </div>
                                                        <p style="text-align: center;  font-size: 14px;">Investment</p>
                                                    </div>

                                                 <div style="width: 70px;">
                                                        <div class="rotating-border" style="background-color: #996515; border-radius: 50%; height: 60px; width: 60px; display: flex; justify-content: center; align-items: center;">
                                                            <i class="mdi mdi mdi-image-filter-none" style="font-size: 35px; color: white;"></i>
                                                        </div>
                                                        <p style="text-align: center;  font-size: 15px;">Bulk Transfer</p>
                                                    </div>

                                                    <div style="width: 70px;">
                                                        <div class="rotating-border" style="background-color: #996515; border-radius: 50%; height: 60px; width: 60px; display: flex; justify-content: center; align-items: center;">
                                                            <i class="mdi mdi-home-map-marker" style="font-size: 35px; color: white;"></i>
                                                        </div>
                                                        <p style="text-align: center;  font-size: 15px;">Agents Banking</p>
                                                    </div>

                                                    
                                                </div>
                                               
                                            </div>
                                          
                                        </div>
                                    </div>
                                </div>
                               
                               
                            </div>
                        </div>
                        <div class="col-12 col-xl-6 grid-margin stretch-card">
                            <div class="row w-100 flex-grow">
                                <div class="col-md-12 stretch-card">
                                    <div class="notification">
                                        <div class="header">
                                          <h1>Notification</h1>
                                         
                                        </div>
                                        

                                        <%if(Notification.length > 0){ %>
                                            <% Notification.forEach(function(row){%>
                                        <div class="content" style="border-radius: 10px; box-shadow: #996515; border: 1px solid #996515; padding: 5px; box-shadow: 0 2px 4px #996515;">
                                            <div class="sender-info" style="display: flex; justify-content: space-between;">
                                              <div>
                                                  <span class="sender-name"><%= row.Name %></span>
                                                  <span class="sender-email"><%= row.Email %></span>
                                              </div>
  
                                              <span class="close-btn">
                                                <i class="mdi mdi-close"></i>
                                                <span style="display: none;"><%= row.Reference %></span>
                                               </span>
                                            </div>
                                            <p class="message"><%= row.Message %> </p>
                                            <div class="date-time">
                                              <span class="date"><%= row.wordDate %></span>
                                              
                                            </div>
                                          </div>

                                          <%});%>
                                          <%}else{%>
                                            <h6>There is no notification currently</h6>
                                          <% } %>
                                      </div>
                                </div>
                            </div>
                        </div>

                        
                    </div>
                    <div class="row">
                        <div class="col-lg-12 grid-margin stretch-card">
                            <div class="card">
                                <div class="card-body">
                                    <h4 class="card-title">Transaction activities history</h4>
                                    <div class="table-responsive">
                                        <table class="table table-striped">
                                            <thead>
                                                <tr>
                                                    <th style="text-align: center;">
                                                        Recipient
                                                    </th>
                                                    <th style="text-align: center;">
                                                        Activity
                                                    </th>
                                                   
                                                    <th style="text-align: center;">
                                                        Amount
                                                    </th>

                                                    <th style="text-align: center;">
                                                        Status
                                                    </th>

                                                    <th style="text-align: center;">
                                                        Reference
                                                    </th>
                                                    <th style="text-align: center;">
                                                        Date
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <%if(results.length > 0){ %>
                                                    <% results.forEach(function(row){%>
                                                <tr>
                                                    <td class="py-1" style="text-align: center;">
                                                        <%= row.Name %>
                                                    </td>
                                                    <td style="text-align: center;">
                                                        <%= row.Type %>
                                                    </td>
                                                    
                                                    <td style="text-align: center;">
                                                        <%= row.Symbol %><%= row.Amount.toFixed(2) %>
                                                    </td>

                                                    <td style="text-align: center;">
                                                        <%= row.Status %>
                                                    </td>

                                                    <td style="text-align: center;">
                                                        <%= row.Reference%>
                                                    </td>

                                                    <td style="text-align: center;">
                                                        <%= row.wordDate %>
                                                    </td>
                                                </tr>
                                            
                                                <%});%>
                                                <%}else{%>
                                          
                                                <% } %>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
               
                    <!-- row end -->
                </div>
                <!-- content-wrapper ends -->
                <!-- partial:./partials/_footer.html -->
                <footer class="footer">
                    <div class="card">
                        <div class="card-body">
                            <div class="d-sm-flex justify-content-center justify-content-sm-between">
                                <span class="text-muted d-block text-center text-sm-left d-sm-inline-block">Copyright © ATFM 2023</span>
                              
                                <span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center"> <a href="" target=""style='color:#996515'>AUSSIES TRUIST FINANCIAL MANAGEMENT  BANK</div>
                            </div>
                        </div>
                    </div>
                </footer>
                <!-- partial -->
            </div>
            <!-- main-panel ends -->
        </div>
        <!-- page-body-wrapper ends -->
    </div>
    <!-- container-scroller -->
    <script src="assets/js/jquery-1.3.2.min.js" ></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
       
      <script>
    
         let closebtn = document.getElementsByClassName('close-btn')
         for (let i = 0; i < closebtn.length; i++) {
             closebtn[i].addEventListener('click', function(e){
                let Reference = this.children[1].textContent
                let Data = {Reference}
                $.ajax({
                  type: 'POST',
                  url: '/remove-notification-post',
                  ContentType: 'application/json',
                  data: Data,
                  success: function(data) {
                 
                    window.location.reload()
                  }
                })
             })
            
         }

         totalFetch()

          function totalFetch(){
            $.ajax({
                  type: 'POST',
                  url: '/automatic-balance-cad',
                  ContentType: 'application/json',
                  data: {Ben:'Ben'},
                  success: function(data) {
                  //  alert(data)
                    document.getElementById('AccountBalanceCADTwoWto').textContent = Number(data).toFixed(2)
                
                  }
                })

            $.ajax({
                  type: 'POST',
                  url: '/automatic-balance-usd',
                  ContentType: 'application/json',
                  data: {Ben:'Ben'},
                  success: function(data) {
                    document.getElementById('AccountBalanceUSD').textContent = Number(data).toFixed(2)
                
                  }
                })

                $.ajax({
                  type: 'POST',
                  url: '/automatic-balance-gbp',
                  ContentType: 'application/json',
                  data: {Ben:'Ben'},
                  success: function(data) {
                    document.getElementById('AccountBalanceGBP').textContent = Number(data).toFixed(2)
                
                  }
                })


                $.ajax({
                  type: 'POST',
                  url: '/automatic-balance-euro',
                  ContentType: 'application/json',
                  data: {Ben:'Ben'},
                  success: function(data) {
                    document.getElementById('AccountBalanceEuro').textContent = Number(data).toFixed(2)
                
                  }
                })


               
 
          }

          
         let Today = new Date()
         document.getElementById('Today_Date').textContent = Today.toDateString()
      </script>
    <!-- base:js -->
    <script src="vendors/js/vendor.bundle.base.js"></script>
    <!-- endinject -->
    <!-- Plugin js for this page-->
    <script src="vendors/chart.js/Chart.min.js"></script>
    <!-- End plugin js for this page-->
    <!-- inject:js -->
    <script src="js/off-canvas.js"></script>
    <script src="js/hoverable-collapse.js"></script>
    <script src="js/template.js"></script>
    <!-- endinject -->
    <!-- plugin js for this page -->
    <!-- End plugin js for this page -->
    <!-- Custom js for this page-->
    <script src="js/dashboard.js"></script>
    <!-- End custom js for this page-->
</body>

</html>